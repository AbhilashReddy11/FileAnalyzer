<!-- File: Index.cshtml -->
@model FileAnalyzer.Models.InputOutputModel

<h2>GPT-3.5 Project</h2>

@using (Html.BeginForm("AnalyzeFile", "Home", FormMethod.Post, new { enctype = "multipart/form-data" }))
{
    <div>
        <label for="prompt">Enter Prompt:</label>
        <textarea id="prompt" name="Prompt" rows="4" cols="50" required>@(Model.Prompt ?? "")</textarea>
    </div>
    <div>
        <label for="file">Upload File:</label>
        <input type="file" id="file" name="file" />
    </div>
    <button type="submit">Submit</button>
}

@if (!string.IsNullOrEmpty(Model.Response))
{
    <h3>Generated Response:</h3>
    <p>@Model.Response</p>

    <div>
        <h3>Download Response:</h3>
        <p><a href="@Url.Action("DownloadResponse", "Home")">Download</a></p>
    </div>
}
